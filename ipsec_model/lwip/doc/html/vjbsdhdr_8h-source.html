
<html>
<head>
<title>lwIP</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="doxygen.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="98%" border="0" align="center">
  <tr>
    <td>
      <h2>lwIP code documentation</h2>
<hr>

<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>vjbsdhdr.h</h1><a href="vjbsdhdr_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef VJBSDHDR_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define VJBSDHDR_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "<a class="code" href="tcp_8h.html">lwip/tcp.h</a>"</span>
00005 
00006 
00007 <span class="comment">/*</span>
00008 <span class="comment"> * Structure of an internet header, naked of options.</span>
00009 <span class="comment"> *</span>
00010 <span class="comment"> * We declare ip_len and ip_off to be short, rather than u_short</span>
00011 <span class="comment"> * pragmatically since otherwise unsigned comparisons can result</span>
00012 <span class="comment"> * against negative integers quite easily, and fail in subtle ways.</span>
00013 <span class="comment"> */</span>
00014 PACK_STRUCT_BEGIN
<a name="l00015"></a><a class="code" href="structip.html">00015</a> <span class="keyword">struct </span><a class="code" href="structip.html">ip</a>
00016 {
00017 <span class="preprocessor">#if defined(NO_CHAR_BITFIELDS)</span>
00018 <span class="preprocessor"></span>        u_char ip_hl_v; <span class="comment">/* bug in GCC for mips means the bitfield stuff will sometimes break - so we use a char for both and get round it with macro's instead... */</span>
00019 <span class="preprocessor">#else</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#if BYTE_ORDER == LITTLE_ENDIAN</span>
<a name="l00021"></a><a class="code" href="structip.html#o1">00021</a> <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span> <a class="code" href="structip.html#o0">ip_hl</a>:4,                               <span class="comment">/* header length */</span>
00022                 <a class="code" href="structip.html#o1">ip_v</a>:4;                                         <span class="comment">/* version */</span>
00023 <span class="preprocessor">#elif BYTE_ORDER == BIG_ENDIAN </span>
00024 <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span> <a class="code" href="structip.html#o1">ip_v</a>:4,                                        <span class="comment">/* version */</span>
00025                 <a class="code" href="structip.html#o0">ip_hl</a>:4;                                        <span class="comment">/* header length */</span>
00026 <span class="preprocessor">#else</span>
00027 <span class="preprocessor"></span>        COMPLAIN - NO BYTE ORDER SELECTED!
00028 <span class="preprocessor">#endif</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00030"></a><a class="code" href="structip.html#o2">00030</a> <span class="preprocessor"></span>        u_char  <a class="code" href="structip.html#o2">ip_tos</a>;                                 <span class="comment">/* type of service */</span>
<a name="l00031"></a><a class="code" href="structip.html#o3">00031</a>         u_short <a class="code" href="structip.html#o3">ip_len</a>;                                 <span class="comment">/* total length */</span>
<a name="l00032"></a><a class="code" href="structip.html#o4">00032</a>         u_short <a class="code" href="structip.html#o4">ip_id</a>;                                  <span class="comment">/* identification */</span>
<a name="l00033"></a><a class="code" href="structip.html#o5">00033</a>         u_short <a class="code" href="structip.html#o5">ip_off</a>;                                 <span class="comment">/* fragment offset field */</span>
<a name="l00034"></a><a class="code" href="vjbsdhdr_8h.html#a0">00034</a> <span class="preprocessor">#define IP_DF 0x4000                            </span><span class="comment">/* dont fragment flag */</span>
<a name="l00035"></a><a class="code" href="vjbsdhdr_8h.html#a1">00035</a> <span class="preprocessor">#define IP_MF 0x2000                            </span><span class="comment">/* more fragments flag */</span>
<a name="l00036"></a><a class="code" href="vjbsdhdr_8h.html#a2">00036</a> <span class="preprocessor">#define IP_OFFMASK 0x1fff                       </span><span class="comment">/* mask for fragmenting bits */</span>
<a name="l00037"></a><a class="code" href="structip.html#o6">00037</a>         u_char  <a class="code" href="structip.html#o6">ip_ttl</a>;                                 <span class="comment">/* time to live */</span>
<a name="l00038"></a><a class="code" href="structip.html#o7">00038</a>         u_char  <a class="code" href="structip.html#o7">ip_p</a>;                                   <span class="comment">/* protocol */</span>
<a name="l00039"></a><a class="code" href="structip.html#o8">00039</a>         u_short <a class="code" href="structip.html#o8">ip_sum</a>;                                 <span class="comment">/* checksum */</span>
<a name="l00040"></a><a class="code" href="structip.html#o9">00040</a>         <span class="keyword">struct  </span><a class="code" href="structin__addr.html">in_addr</a> ip_src,ip_dst;  <span class="comment">/* source and dest address */</span>
00041 };
00042 PACK_STRUCT_END
00043 
<a name="l00044"></a><a class="code" href="vjbsdhdr_8h.html#a3">00044</a> <span class="keyword">typedef</span> u32_t <a class="code" href="vjbsdhdr_8h.html#a3">tcp_seq</a>;
00045 
00046 <span class="comment">/*</span>
00047 <span class="comment"> * TCP header.</span>
00048 <span class="comment"> * Per RFC 793, September, 1981.</span>
00049 <span class="comment"> */</span>
00050 PACK_STRUCT_BEGIN
<a name="l00051"></a><a class="code" href="structtcphdr.html">00051</a> <span class="keyword">struct </span><a class="code" href="structtcphdr.html">tcphdr</a>  
00052 {
<a name="l00053"></a><a class="code" href="structtcphdr.html#o0">00053</a>         u_short <a class="code" href="structtcphdr.html#o0">th_sport</a>;               <span class="comment">/* source port */</span>
<a name="l00054"></a><a class="code" href="structtcphdr.html#o1">00054</a>         u_short <a class="code" href="structtcphdr.html#o1">th_dport</a>;               <span class="comment">/* destination port */</span>
<a name="l00055"></a><a class="code" href="structtcphdr.html#o2">00055</a>         <a class="code" href="vjbsdhdr_8h.html#a3">tcp_seq</a> <a class="code" href="structtcphdr.html#o2">th_seq</a>;                 <span class="comment">/* sequence number */</span>
<a name="l00056"></a><a class="code" href="structtcphdr.html#o3">00056</a>         <a class="code" href="vjbsdhdr_8h.html#a3">tcp_seq</a> <a class="code" href="structtcphdr.html#o3">th_ack</a>;                 <span class="comment">/* acknowledgement number */</span>
00057 <span class="preprocessor">#if defined(NO_CHAR_BITFIELDS)</span>
00058 <span class="preprocessor"></span>        u_char th_x2_off;
00059 <span class="preprocessor">#else</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#if BYTE_ORDER == LITTLE_ENDIAN</span>
00061 <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span>        <a class="code" href="structtcphdr.html#o4">th_x2</a>:4,                <span class="comment">/* (unused) */</span>
00062                         <a class="code" href="structtcphdr.html#o5">th_off</a>:4;               <span class="comment">/* data offset */</span>
00063 <span class="preprocessor">#endif</span>
00064 <span class="preprocessor"></span><span class="preprocessor">#if BYTE_ORDER == BIG_ENDIAN </span>
<a name="l00065"></a><a class="code" href="structtcphdr.html#o4">00065</a> <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span>        <a class="code" href="structtcphdr.html#o5">th_off</a>:4,               <span class="comment">/* data offset */</span>
00066                         <a class="code" href="structtcphdr.html#o4">th_x2</a>:4;                <span class="comment">/* (unused) */</span>
00067 <span class="preprocessor">#endif</span>
00068 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00069"></a><a class="code" href="structtcphdr.html#o6">00069</a> <span class="preprocessor"></span>        u_char  <a class="code" href="structtcphdr.html#o6">th_flags</a>;
<a name="l00070"></a><a class="code" href="structtcphdr.html#o7">00070</a>         u_short <a class="code" href="structtcphdr.html#o7">th_win</a>;                 <span class="comment">/* window */</span>
<a name="l00071"></a><a class="code" href="structtcphdr.html#o8">00071</a>         u_short <a class="code" href="structtcphdr.html#o8">th_sum</a>;                 <span class="comment">/* checksum */</span>
<a name="l00072"></a><a class="code" href="structtcphdr.html#o9">00072</a>         u_short <a class="code" href="structtcphdr.html#o9">th_urp</a>;                 <span class="comment">/* urgent pointer */</span>
00073 };
00074 PACK_STRUCT_END
00075 
00076 <span class="preprocessor">#endif </span><span class="comment">/* VJBSDHDR_H */</span>
</pre></div>	</td>
  </tr>
</table>
<hr>
<div align="center">Copyright (c) 2001-2003 Swedish Institute of Computer Science</div>
</html>
