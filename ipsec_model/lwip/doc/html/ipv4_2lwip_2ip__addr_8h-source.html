
<html>
<head>
<title>lwIP</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="doxygen.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="98%" border="0" align="center">
  <tr>
    <td>
      <h2>lwIP code documentation</h2>
<hr>

<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ip_addr.h</h1><a href="ipv4_2lwip_2ip__addr_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment"> * Copyright (c) 2001-2003 Swedish Institute of Computer Science.</span>
00003 <span class="comment"> * All rights reserved.</span>
00004 <span class="comment"> *</span>
00005 <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span>
00006 <span class="comment"> * are permitted provided that the following conditions are met:</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> * 1. Redistributions of source code must retain the above copyright notice,</span>
00009 <span class="comment"> *    this list of conditions and the following disclaimer.</span>
00010 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span>
00011 <span class="comment"> *    this list of conditions and the following disclaimer in the documentation</span>
00012 <span class="comment"> *    and/or other materials provided with the distribution.</span>
00013 <span class="comment"> * 3. The name of the author may not be used to endorse or promote products</span>
00014 <span class="comment"> *    derived from this software without specific prior written permission.</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED</span>
00017 <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
00018 <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT</span>
00019 <span class="comment"> * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
00020 <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT</span>
00021 <span class="comment"> * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span>
00022 <span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span>
00023 <span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
00024 <span class="comment"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span>
00025 <span class="comment"> * OF SUCH DAMAGE.</span>
00026 <span class="comment"> *</span>
00027 <span class="comment"> * This file is part of the lwIP TCP/IP stack.</span>
00028 <span class="comment"> *</span>
00029 <span class="comment"> * Author: Adam Dunkels &lt;adam@sics.se&gt;</span>
00030 <span class="comment"> *</span>
00031 <span class="comment"> */</span>
00032 <span class="preprocessor">#ifndef __LWIP_IP_ADDR_H__</span>
00033 <span class="preprocessor"></span><span class="preprocessor">#define __LWIP_IP_ADDR_H__</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#include "<a class="code" href="arch_8h.html">lwip/arch.h</a>"</span>
00036 
<a name="l00040"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a0">00040</a> <span class="preprocessor">#define IP_ADDR_ANY ((struct ip_addr *)&amp;ip_addr_any)</span>
<a name="l00041"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a1">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define IP_ADDR_BROADCAST ((struct ip_addr *)&amp;ip_addr_broadcast)</span>
00042 <span class="preprocessor"></span>
<a name="l00043"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a2">00043</a> <span class="preprocessor">#define INADDR_NONE    ((u32_t) 0xffffffff)  </span><span class="comment">/* 255.255.255.255 */</span>
<a name="l00044"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a3">00044</a> <span class="preprocessor">#define INADDR_LOOPBACK    ((u32_t) 0x7f000001)  </span><span class="comment">/* 127.0.0.1 */</span>
00045 
00046 <span class="comment">/* Definitions of the bits in an Internet address integer.</span>
00047 <span class="comment"></span>
00048 <span class="comment">   On subnets, host and network parts are found according to</span>
00049 <span class="comment">   the subnet mask, not these masks.  */</span>
00050 
<a name="l00051"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a4">00051</a> <span class="preprocessor">#define  IN_CLASSA(a)    ((((u32_t)(a)) &amp; 0x80000000) == 0)</span>
<a name="l00052"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a5">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSA_NET    0xff000000</span>
<a name="l00053"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a6">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSA_NSHIFT  24</span>
<a name="l00054"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a7">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSA_HOST    (0xffffffff &amp; ~IN_CLASSA_NET)</span>
<a name="l00055"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a8">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSA_MAX    128</span>
00056 <span class="preprocessor"></span>
<a name="l00057"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a9">00057</a> <span class="preprocessor">#define  IN_CLASSB(a)    ((((u32_t)(a)) &amp; 0xc0000000) == 0x80000000)</span>
<a name="l00058"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a10">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSB_NET    0xffff0000</span>
<a name="l00059"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a11">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSB_NSHIFT  16</span>
<a name="l00060"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a12">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSB_HOST    (0xffffffff &amp; ~IN_CLASSB_NET)</span>
<a name="l00061"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a13">00061</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSB_MAX    65536</span>
00062 <span class="preprocessor"></span>
<a name="l00063"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a14">00063</a> <span class="preprocessor">#define  IN_CLASSC(a)    ((((u32_t)(a)) &amp; 0xe0000000) == 0xc0000000)</span>
<a name="l00064"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a15">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSC_NET    0xffffff00</span>
<a name="l00065"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a16">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSC_NSHIFT  8</span>
<a name="l00066"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a17">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define  IN_CLASSC_HOST    (0xffffffff &amp; ~IN_CLASSC_NET)</span>
00067 <span class="preprocessor"></span>
<a name="l00068"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a18">00068</a> <span class="preprocessor">#define IN_CLASSD(a)        (((u32_t)(a) &amp; 0xf0000000) == 0xe0000000)</span>
<a name="l00069"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a19">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define IN_CLASSD_NET       0xf0000000  </span><span class="comment">/* These ones aren't really */</span>
<a name="l00070"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a20">00070</a> <span class="preprocessor">#define IN_CLASSD_NSHIFT    28      </span><span class="comment">/* net and host fields, but */</span>
<a name="l00071"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a21">00071</a> <span class="preprocessor">#define IN_CLASSD_HOST      0x0fffffff  </span><span class="comment">/* routing needn't know.    */</span>
<a name="l00072"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a22">00072</a> <span class="preprocessor">#define IN_MULTICAST(a)     IN_CLASSD(a)</span>
00073 <span class="preprocessor"></span>
<a name="l00074"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a23">00074</a> <span class="preprocessor">#define IN_EXPERIMENTAL(a)  (((u32_t)(a) &amp; 0xf0000000) == 0xf0000000)</span>
<a name="l00075"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a24">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define IN_BADCLASS(a)      (((u32_t)(a) &amp; 0xf0000000) == 0xf0000000)</span>
00076 <span class="preprocessor"></span>
<a name="l00077"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a25">00077</a> <span class="preprocessor">#define IN_LOOPBACKNET      127         </span><span class="comment">/* official! */</span>
00078 
00079 <span class="preprocessor">#ifdef PACK_STRUCT_USE_INCLUDES</span>
00080 <span class="preprocessor"></span><span class="preprocessor">#  include "arch/bpstruct.h"</span>
00081 <span class="preprocessor">#endif</span>
00082 <span class="preprocessor"></span>PACK_STRUCT_BEGIN
<a name="l00083"></a><a class="code" href="structip__addr.html">00083</a> <span class="keyword">struct </span><a class="code" href="structip__addr.html">ip_addr</a> {
00084   <a class="code" href="structip__addr.html#a0">PACK_STRUCT_FIELD</a>(u32_t <a class="code" href="structip__addr.html#o0">addr</a>);
00085 } <a class="code" href="etharp_8h.html#a15">PACK_STRUCT_STRUCT</a>;
00086 PACK_STRUCT_END
00087 <span class="preprocessor">#ifdef PACK_STRUCT_USE_INCLUDES</span>
00088 <span class="preprocessor"></span><span class="preprocessor">#  include "arch/epstruct.h"</span>
00089 <span class="preprocessor">#endif</span>
00090 <span class="preprocessor"></span>
00091 <span class="comment">/* For compatibility with BSD code */</span>
<a name="l00092"></a><a class="code" href="structin__addr.html">00092</a> <span class="keyword">struct </span><a class="code" href="structin__addr.html">in_addr</a> {
<a name="l00093"></a><a class="code" href="structin__addr.html#o0">00093</a>   u32_t <a class="code" href="structin__addr.html#o0">s_addr</a>;
00094 };
00095 
<a name="l00096"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a39">00096</a> <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structip__addr.html">ip_addr</a> <a class="code" href="ip__addr_8c.html#a0">ip_addr_any</a>;
<a name="l00097"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a40">00097</a> <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structip__addr.html">ip_addr</a> <a class="code" href="ip__addr_8c.html#a1">ip_addr_broadcast</a>;
00098 
<a name="l00099"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a26">00099</a> <span class="preprocessor">#define IP4_ADDR(ipaddr, a,b,c,d) (ipaddr)-&gt;addr = htonl(((u32_t)(a &amp; 0xff) &lt;&lt; 24) | ((u32_t)(b &amp; 0xff) &lt;&lt; 16) | \</span>
00100 <span class="preprocessor">                                                         ((u32_t)(c &amp; 0xff) &lt;&lt; 8) | (u32_t)(d &amp; 0xff))</span>
00101 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a27">00102</a> <span class="preprocessor">#define ip_addr_set(dest, src) (dest)-&gt;addr = \</span>
00103 <span class="preprocessor">                               ((src) == NULL? 0:\</span>
00104 <span class="preprocessor">                               ((struct ip_addr *)src)-&gt;addr)</span>
<a name="l00105"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a28">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define ip_addr_maskcmp(addr1, addr2, mask) (((addr1)-&gt;addr &amp; \</span>
00106 <span class="preprocessor">                                              (mask)-&gt;addr) == \</span>
00107 <span class="preprocessor">                                             ((addr2)-&gt;addr &amp; \</span>
00108 <span class="preprocessor">                                              (mask)-&gt;addr))</span>
<a name="l00109"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a29">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define ip_addr_cmp(addr1, addr2) ((addr1)-&gt;addr == (addr2)-&gt;addr)</span>
00110 <span class="preprocessor"></span>
<a name="l00111"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a30">00111</a> <span class="preprocessor">#define ip_addr_isany(addr1) ((addr1) == NULL || (addr1)-&gt;addr == 0)</span>
00112 <span class="preprocessor"></span>
<a name="l00113"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a31">00113</a> <span class="preprocessor">#define ip_addr_isbroadcast(addr1, mask) (((((addr1)-&gt;addr) &amp; ~((mask)-&gt;addr)) == \</span>
00114 <span class="preprocessor">           (0xffffffff &amp; ~((mask)-&gt;addr))) || \</span>
00115 <span class="preprocessor">                                         ((addr1)-&gt;addr == 0xffffffff) || \</span>
00116 <span class="preprocessor">                                         ((addr1)-&gt;addr == 0x00000000))</span>
00117 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a32">00118</a> <span class="preprocessor">#define ip_addr_ismulticast(addr1) (((addr1)-&gt;addr &amp; ntohl(0xf0000000)) == ntohl(0xe0000000))</span>
00119 <span class="preprocessor"></span>
00120 
<a name="l00121"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a33">00121</a> <span class="preprocessor">#define ip_addr_debug_print(debug, ipaddr) LWIP_DEBUGF(debug, ("%u.%u.%u.%u", \</span>
00122 <span class="preprocessor">        ipaddr?(unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 24) &amp; 0xff:0, \</span>
00123 <span class="preprocessor">        ipaddr?(unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 16) &amp; 0xff:0, \</span>
00124 <span class="preprocessor">        ipaddr?(unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 8) &amp; 0xff:0, \</span>
00125 <span class="preprocessor">        ipaddr?(unsigned int)ntohl((ipaddr)-&gt;addr) &amp; 0xff:0U))</span>
00126 <span class="preprocessor"></span>
00127 <span class="comment">/* cast to unsigned int, as it is used as argument to printf functions</span>
00128 <span class="comment"> * which expect integer arguments */</span>
<a name="l00129"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a34">00129</a> <span class="preprocessor">#define ip4_addr1(ipaddr) ((unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 24) &amp; 0xff)</span>
<a name="l00130"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a35">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define ip4_addr2(ipaddr) ((unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 16) &amp; 0xff)</span>
<a name="l00131"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a36">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define ip4_addr3(ipaddr) ((unsigned int)(ntohl((ipaddr)-&gt;addr) &gt;&gt; 8) &amp; 0xff)</span>
<a name="l00132"></a><a class="code" href="ipv4_2lwip_2ip__addr_8h.html#a37">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define ip4_addr4(ipaddr) ((unsigned int)(ntohl((ipaddr)-&gt;addr)) &amp; 0xff)</span>
00133 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* __LWIP_IP_ADDR_H__ */</span>
00134 
00135 
00136 
00137 
00138 
00139 
</pre></div>	</td>
  </tr>
</table>
<hr>
<div align="center">Copyright (c) 2001-2003 Swedish Institute of Computer Science</div>
</html>
