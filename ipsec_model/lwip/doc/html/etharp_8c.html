
<html>
<head>
<title>lwIP</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="doxygen.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="98%" border="0" align="center">
  <tr>
    <td>
      <h2>lwIP code documentation</h2>
<hr>

<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>etharp.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Address Resolution Protocol module for IP over Ethernet<p>
Functionally, ARP is divided into two parts. The first maps an IP address to a physical address when sending a packet, and the second part answers requests from other machines.
<p>
Definition in file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
<code>#include "<a class="el" href="opt_8h-source.html">lwip/opt.h</a>"</code><br>
<code>#include "<a class="el" href="ipv6_2lwip_2inet_8h-source.html">lwip/inet.h</a>"</code><br>
<code>#include "<a class="el" href="etharp_8h-source.html">netif/etharp.h</a>"</code><br>
<code>#include "<a class="el" href="ipv6_2lwip_2ip_8h-source.html">lwip/ip.h</a>"</code><br>
<code>#include "<a class="el" href="stats_8h-source.html">lwip/stats.h</a>"</code><br>

<p>
<a href="etharp_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structetharp__entry.html">etharp_entry</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a0">ARP_MAXAGE</a>&nbsp;&nbsp;&nbsp;120</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a1">ARP_MAXPENDING</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a2">HWTYPE_ETHERNET</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a3">ARP_REQUEST</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a4">ARP_REPLY</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a5">ARPH_HWLEN</a>(hdr)&nbsp;&nbsp;&nbsp;(ntohs((hdr)-&gt;_hwlen_protolen) &gt;&gt; 8)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a6">ARPH_PROTOLEN</a>(hdr)&nbsp;&nbsp;&nbsp;(ntohs((hdr)-&gt;_hwlen_protolen) &amp; 0xff)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a7">ARPH_HWLEN_SET</a>(hdr, len)&nbsp;&nbsp;&nbsp;(hdr)-&gt;_hwlen_protolen = htons(ARPH_PROTOLEN(hdr) | ((len) &lt;&lt; 8))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a8">ARPH_PROTOLEN_SET</a>(hdr, len)&nbsp;&nbsp;&nbsp;(hdr)-&gt;_hwlen_protolen = htons((len) | (ARPH_HWLEN(hdr) &lt;&lt; 8))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a9">ARP_INSERT_FLAG</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a23">etharp_state</a> { <a class="el" href="etharp_8c.html#a23a12">ETHARP_STATE_EMPTY</a>, 
<a class="el" href="etharp_8c.html#a23a13">ETHARP_STATE_PENDING</a>, 
<a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>
 }</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a15">update_arp_entry</a> (struct <a class="el" href="structnetif.html">netif</a> *<a class="el" href="structnetif.html">netif</a>, struct <a class="el" href="structip__addr.html">ip_addr</a> *ipaddr, struct <a class="el" href="structeth__addr.html">eth_addr</a> *ethaddr, u8_t flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a16">etharp_init</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a17">etharp_tmr</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>u8_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a18">find_arp_entry</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a19">etharp_ip_input</a> (struct <a class="el" href="structnetif.html">netif</a> *<a class="el" href="structnetif.html">netif</a>, struct <a class="el" href="structpbuf.html">pbuf</a> *p)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a20">etharp_arp_input</a> (struct <a class="el" href="structnetif.html">netif</a> *<a class="el" href="structnetif.html">netif</a>, struct <a class="el" href="structeth__addr.html">eth_addr</a> *ethaddr, struct <a class="el" href="structpbuf.html">pbuf</a> *p)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a21">etharp_output</a> (struct <a class="el" href="structnetif.html">netif</a> *<a class="el" href="structnetif.html">netif</a>, struct <a class="el" href="structip__addr.html">ip_addr</a> *ipaddr, struct <a class="el" href="structpbuf.html">pbuf</a> *q)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="err_8h.html#a13">err_t</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a22">etharp_query</a> (struct <a class="el" href="structnetif.html">netif</a> *<a class="el" href="structnetif.html">netif</a>, struct <a class="el" href="structip__addr.html">ip_addr</a> *ipaddr, struct <a class="el" href="structpbuf.html">pbuf</a> *q)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const  struct <a class="el" href="structeth__addr.html">eth_addr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a10">ethbroadcast</a> = {{0xff,0xff,0xff,0xff,0xff,0xff}}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structetharp__entry.html">etharp_entry</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="etharp_8c.html#a11">arp_table</a> [ARP_TABLE_SIZE]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a9" doxytag="etharp.c::ARP_INSERT_FLAG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARP_INSERT_FLAG&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00123">123</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, <a class="el" href="etharp_8c-source.html#l00372">etharp_ip_input()</a>, and <a class="el" href="etharp_8c-source.html#l00246">update_arp_entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="etharp.c::ARP_MAXAGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARP_MAXAGE&nbsp;&nbsp;&nbsp;120
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
the time an ARP entry stays valid after its last update, (120 * 10) seconds = 20 minutes. 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00087">87</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00148">etharp_tmr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="etharp.c::ARP_MAXPENDING" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARP_MAXPENDING&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
the time an ARP entry stays pending after first request, (2 * 10) seconds = 20 seconds. 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00089">89</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00148">etharp_tmr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="etharp.c::ARP_REPLY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARP_REPLY&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00095">95</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="etharp.c::ARP_REQUEST" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARP_REQUEST&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ARP message types 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00094">94</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, and <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="etharp.c::ARPH_HWLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARPH_HWLEN</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">hdr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(ntohs((hdr)-&gt;_hwlen_protolen) &gt;&gt; 8)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00097">97</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="etharp.c::ARPH_HWLEN_SET" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARPH_HWLEN_SET</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">hdr,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>len&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(hdr)-&gt;_hwlen_protolen = htons(ARPH_PROTOLEN(hdr) | ((len) &lt;&lt; 8))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00100">100</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, and <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="etharp.c::ARPH_PROTOLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARPH_PROTOLEN</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">hdr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(ntohs((hdr)-&gt;_hwlen_protolen) &amp; 0xff)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00098">98</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="etharp.c::ARPH_PROTOLEN_SET" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ARPH_PROTOLEN_SET</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">hdr,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>len&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(hdr)-&gt;_hwlen_protolen = htons((len) | (ARPH_HWLEN(hdr) &lt;&lt; 8))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00101">101</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, and <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="etharp.c::HWTYPE_ETHERNET" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define HWTYPE_ETHERNET&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00091">91</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, and <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>.    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a23" doxytag="etharp.c::etharp_state" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="etharp_8c.html#a23">etharp_state</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="anchor" name="a23a12" doxytag="ETHARP_STATE_EMPTY" ></a>ETHARP_STATE_EMPTY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a23a13" doxytag="ETHARP_STATE_PENDING" ></a>ETHARP_STATE_PENDING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a23a14" doxytag="ETHARP_STATE_STABLE" ></a>ETHARP_STATE_STABLE</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00103">103</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a20" doxytag="etharp.c::etharp_arp_input" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structpbuf.html">pbuf</a>* etharp_arp_input </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structnetif.html">netif</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>netif</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structeth__addr.html">eth_addr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ethaddr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Responds to ARP requests, updates ARP entries and sends queued IP packets.<p>
Should be called for incoming ARP packets. The pbuf in the argument is freed by this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>netif</em>&nbsp;</td><td>The lwIP network interface on which the ARP packet pbuf arrived. </td></tr>
    <tr><td valign=top><em>pbuf</em>&nbsp;</td><td>The ARP packet that arrived on netif. Is freed by this function. </td></tr>
    <tr><td valign=top><em>ethaddr</em>&nbsp;</td><td>Ethernet address of netif.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NULL</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="pbuf_8c.html#a14">pbuf_free()</a> </dd></dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00407">407</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="ipv6_2lwip_2ip__addr_8h-source.html#l00040">ip_addr::addr</a>, <a class="el" href="etharp_8c-source.html#l00123">ARP_INSERT_FLAG</a>, <a class="el" href="etharp_8c-source.html#l00095">ARP_REPLY</a>, <a class="el" href="etharp_8c-source.html#l00094">ARP_REQUEST</a>, <a class="el" href="etharp_8c-source.html#l00100">ARPH_HWLEN_SET</a>, <a class="el" href="etharp_8c-source.html#l00101">ARPH_PROTOLEN_SET</a>, <a class="el" href="debug_8h-source.html#l00056">DBG_TRACE</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8h-source.html#l00084">ETHTYPE_ARP</a>, <a class="el" href="etharp_8h-source.html#l00085">ETHTYPE_IP</a>, <a class="el" href="ipv4_2lwip_2inet_8h-source.html#l00065">htons</a>, <a class="el" href="netif_8h-source.html#l00097">netif::hwaddr_len</a>, <a class="el" href="etharp_8c-source.html#l00091">HWTYPE_ETHERNET</a>, <a class="el" href="netif_8h-source.html#l00073">netif::ip_addr</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00109">ip_addr_cmp</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00102">ip_addr_set</a>, <a class="el" href="structnetif.html#o6">netif::linkoutput</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8h-source.html#l00072">pbuf::payload</a>, <a class="el" href="pbuf_8c-source.html#l00755">pbuf_free()</a>, <a class="el" href="pbuf_8h-source.html#l00081">pbuf::tot_len</a>, and <a class="el" href="etharp_8c-source.html#l00246">update_arp_entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="etharp.c::etharp_init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void etharp_init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes ARP module. 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00129">129</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="etharp_8c.html#a23a12">ETHARP_STATE_EMPTY</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="etharp.c::etharp_ip_input" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structpbuf.html">pbuf</a>* etharp_ip_input </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structnetif.html">netif</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>netif</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Updates the ARP table using the given packet.<p>
Uses the incoming IP packet's source address to update the ARP cache for the local network. The function does not alter or free the packet. This function must be called before the packet p is passed to the IP layer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>netif</em>&nbsp;</td><td>The lwIP network interface on which the IP packet pbuf arrived. </td></tr>
    <tr><td valign=top><em>pbuf</em>&nbsp;</td><td>The IP packet that arrived on netif.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NULL</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="pbuf_8c.html#a14">pbuf_free()</a> </dd></dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00372">372</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="etharp_8c-source.html#l00123">ARP_INSERT_FLAG</a>, <a class="el" href="debug_8h-source.html#l00056">DBG_TRACE</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="netif_8h-source.html#l00073">netif::ip_addr</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00105">ip_addr_maskcmp</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="netif_8h-source.html#l00074">netif::netmask</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8h-source.html#l00072">pbuf::payload</a>, and <a class="el" href="etharp_8c-source.html#l00246">update_arp_entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="etharp.c::etharp_output" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structpbuf.html">pbuf</a>* etharp_output </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structnetif.html">netif</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>netif</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structip__addr.html">ip_addr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>q</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resolve and fill-in Ethernet address header for outgoing packet.<p>
If ARP has the Ethernet address in cache, the given packet is returned, ready to be sent.<p>
If ARP does not have the Ethernet address in cache the packet is queued and a ARP request is sent (on a best-effort basis). This ARP request is returned as a pbuf, which should be sent by the caller.<p>
If ARP failed to allocate resources, NULL is returned.<p>
A returned non-NULL packet should be sent by the caller.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>netif</em>&nbsp;</td><td>The lwIP network interface which the IP packet will be sent on. </td></tr>
    <tr><td valign=top><em>ipaddr</em>&nbsp;</td><td>The IP address of the packet destination. </td></tr>
    <tr><td valign=top><em>pbuf</em>&nbsp;</td><td>The pbuf(s) containing the IP packet to be sent.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>If non-NULL, a packet ready to be sent. </dd></dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00521">521</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="ipv6_2lwip_2ip__addr_8h-source.html#l00040">ip_addr::addr</a>, <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="debug_8h-source.html#l00056">DBG_TRACE</a>, <a class="el" href="etharp_8c-source.html#l00111">etharp_entry::ethaddr</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>, <a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>, <a class="el" href="etharp_8c-source.html#l00119">ethbroadcast</a>, <a class="el" href="etharp_8h-source.html#l00085">ETHTYPE_IP</a>, <a class="el" href="netif_8h-source.html#l00075">netif::gw</a>, <a class="el" href="ipv4_2lwip_2inet_8h-source.html#l00065">htons</a>, <a class="el" href="netif_8h-source.html#l00099">netif::hwaddr</a>, <a class="el" href="netif_8h-source.html#l00097">netif::hwaddr_len</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00130">ip4_addr2</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00131">ip4_addr3</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00132">ip4_addr4</a>, <a class="el" href="netif_8h-source.html#l00073">netif::ip_addr</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00109">ip_addr_cmp</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00111">ip_addr_isany</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00113">ip_addr_isbroadcast</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00118">ip_addr_ismulticast</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00105">ip_addr_maskcmp</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="netif_8h-source.html#l00074">netif::netmask</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8h-source.html#l00072">pbuf::payload</a>, <a class="el" href="pbuf_8c-source.html#l00678">pbuf_header()</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="etharp.c::etharp_query" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="err_8h.html#a13">err_t</a> etharp_query </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structnetif.html">netif</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>netif</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structip__addr.html">ip_addr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structpbuf.html">pbuf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>q</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send an ARP request for the given IP address.<p>
Sends an ARP request for the given IP address, unless a request for this address is already pending. Optionally queues an outgoing packet on the resulting ARP entry.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>netif</em>&nbsp;</td><td>The lwIP network interface where ipaddr must be queried for. </td></tr>
    <tr><td valign=top><em>ipaddr</em>&nbsp;</td><td>The IP address to be resolved. </td></tr>
    <tr><td valign=top><em>q</em>&nbsp;</td><td>If non-NULL, a pbuf that must be queued on the ARP entry for the ipaddr IP address.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NULL.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Might be used in the future by manual IP configuration as well.</dd></dl>
TODO: use the ctime field to see how long ago an ARP request was sent, possibly retry. 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00648">648</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="etharp_8c-source.html#l00094">ARP_REQUEST</a>, <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="etharp_8c-source.html#l00100">ARPH_HWLEN_SET</a>, <a class="el" href="etharp_8c-source.html#l00101">ARPH_PROTOLEN_SET</a>, <a class="el" href="etharp_8c-source.html#l00116">etharp_entry::ctime</a>, <a class="el" href="debug_8h-source.html#l00058">DBG_STATE</a>, <a class="el" href="debug_8h-source.html#l00056">DBG_TRACE</a>, <a class="el" href="err_8h-source.html#l00044">ERR_MEM</a>, <a class="el" href="err_8h-source.html#l00043">ERR_OK</a>, <a class="el" href="err_8h-source.html#l00039">err_t</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8c.html#a23a13">ETHARP_STATE_PENDING</a>, <a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>, <a class="el" href="etharp_8h-source.html#l00084">ETHTYPE_ARP</a>, <a class="el" href="etharp_8h-source.html#l00085">ETHTYPE_IP</a>, <a class="el" href="etharp_8c-source.html#l00192">find_arp_entry()</a>, <a class="el" href="ipv4_2lwip_2inet_8h-source.html#l00065">htons</a>, <a class="el" href="netif_8h-source.html#l00099">netif::hwaddr</a>, <a class="el" href="netif_8h-source.html#l00097">netif::hwaddr_len</a>, <a class="el" href="etharp_8c-source.html#l00091">HWTYPE_ETHERNET</a>, <a class="el" href="netif_8h-source.html#l00073">netif::ip_addr</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00109">ip_addr_cmp</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00102">ip_addr_set</a>, <a class="el" href="structnetif.html#o6">netif::linkoutput</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8c-source.html#l00391">pbuf_alloc()</a>, <a class="el" href="pbuf_8c-source.html#l00755">pbuf_free()</a>, <a class="el" href="pbuf_8h.html#a26a9">PBUF_LINK</a>, <a class="el" href="pbuf_8h.html#a27a11">PBUF_RAM</a>, <a class="el" href="pbuf_8c-source.html#l00880">pbuf_ref()</a>, <a class="el" href="pbuf_8c-source.html#l01050">pbuf_take()</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.
<p>
Referenced by <a class="el" href="dhcp_8c-source.html#l00156">dhcp_check()</a>, and <a class="el" href="etharp_8c-source.html#l00521">etharp_output()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="etharp.c::etharp_tmr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void etharp_tmr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clears expired entries in the ARP table.<p>
This function should be called every ETHARP_TMR_INTERVAL microseconds (10 seconds), in order to expire entries in the ARP table. 
<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00148">148</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="etharp_8c-source.html#l00087">ARP_MAXAGE</a>, <a class="el" href="etharp_8c-source.html#l00089">ARP_MAXPENDING</a>, <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="etharp_8c-source.html#l00116">etharp_entry::ctime</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8c.html#a23a12">ETHARP_STATE_EMPTY</a>, <a class="el" href="etharp_8c.html#a23a13">ETHARP_STATE_PENDING</a>, <a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8c-source.html#l00755">pbuf_free()</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="etharp.c::find_arp_entry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> u8_t find_arp_entry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return an empty ARP entry or, if the table is full, ARP_TABLE_SIZE if all entries are pending, otherwise the oldest entry.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The ARP entry index that is available, ARP_TABLE_SIZE if no usable entry is found. </dd></dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00192">192</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="etharp_8c-source.html#l00116">etharp_entry::ctime</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8c.html#a23a12">ETHARP_STATE_EMPTY</a>, <a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>, and <a class="el" href="etharp_8c-source.html#l00246">update_arp_entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="etharp.c::update_arp_entry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structpbuf.html">pbuf</a> * update_arp_entry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structnetif.html">netif</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>netif</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structip__addr.html">ip_addr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structeth__addr.html">eth_addr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ethaddr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u8_t&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update (or insert) a IP/MAC address pair in the ARP cache.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ipaddr</em>&nbsp;</td><td>IP address of the inserted ARP entry. </td></tr>
    <tr><td valign=top><em>ethaddr</em>&nbsp;</td><td>Ethernet address of the inserted ARP entry. </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>Defines behaviour:<ul>
<li>ARP_INSERT_FLAG Allows ARP to insert this as a new item. If not specified, only existing ARP entries will be updated.</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pbuf If non-NULL, a packet that was queued on a pending entry. You should sent it and must call <a class="el" href="pbuf_8c.html#a14">pbuf_free()</a> afterwards.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="pbuf_8c.html#a14">pbuf_free()</a> </dd></dl>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00246">246</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
References <a class="el" href="ipv6_2lwip_2ip__addr_8h-source.html#l00040">ip_addr::addr</a>, <a class="el" href="etharp_8c-source.html#l00123">ARP_INSERT_FLAG</a>, <a class="el" href="etharp_8c-source.html#l00120">arp_table</a>, <a class="el" href="opt_8h-source.html#l00152">ARP_TABLE_SIZE</a>, <a class="el" href="etharp_8c-source.html#l00116">etharp_entry::ctime</a>, <a class="el" href="debug_8h-source.html#l00058">DBG_STATE</a>, <a class="el" href="debug_8h-source.html#l00056">DBG_TRACE</a>, <a class="el" href="etharp_8c-source.html#l00111">etharp_entry::ethaddr</a>, <a class="el" href="opt_8h-source.html#l00176">ETHARP_ALWAYS_INSERT</a>, <a class="el" href="opt_8h-source.html#l00441">ETHARP_DEBUG</a>, <a class="el" href="etharp_8c.html#a23a12">ETHARP_STATE_EMPTY</a>, <a class="el" href="etharp_8c.html#a23a13">ETHARP_STATE_PENDING</a>, <a class="el" href="etharp_8c.html#a23a14">ETHARP_STATE_STABLE</a>, <a class="el" href="etharp_8h-source.html#l00085">ETHTYPE_IP</a>, <a class="el" href="etharp_8c-source.html#l00192">find_arp_entry()</a>, <a class="el" href="ipv4_2lwip_2inet_8h-source.html#l00065">htons</a>, <a class="el" href="netif_8h-source.html#l00097">netif::hwaddr_len</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00129">ip4_addr1</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00130">ip4_addr2</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00131">ip4_addr3</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00132">ip4_addr4</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00109">ip_addr_cmp</a>, <a class="el" href="ipv4_2lwip_2ip__addr_8h-source.html#l00102">ip_addr_set</a>, <a class="el" href="structnetif.html#o6">netif::linkoutput</a>, <a class="el" href="debug_8h-source.html#l00076">LWIP_ASSERT</a>, <a class="el" href="debug_8h-source.html#l00077">LWIP_DEBUGF</a>, <a class="el" href="def_8h-source.html#l00042">NULL</a>, <a class="el" href="pbuf_8c-source.html#l00755">pbuf_free()</a>, and <a class="el" href="etharp_8c-source.html#l00112">etharp_entry::state</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00407">etharp_arp_input()</a>, and <a class="el" href="etharp_8c-source.html#l00372">etharp_ip_input()</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a11" doxytag="etharp.c::arp_table" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structetharp__entry.html">etharp_entry</a> <a class="el" href="etharp_8c.html#a11">arp_table</a>[ARP_TABLE_SIZE]<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00120">120</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00129">etharp_init()</a>, <a class="el" href="etharp_8c-source.html#l00521">etharp_output()</a>, <a class="el" href="etharp_8c-source.html#l00648">etharp_query()</a>, <a class="el" href="etharp_8c-source.html#l00148">etharp_tmr()</a>, <a class="el" href="etharp_8c-source.html#l00192">find_arp_entry()</a>, and <a class="el" href="etharp_8c-source.html#l00246">update_arp_entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="etharp.c::ethbroadcast" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const struct <a class="el" href="structeth__addr.html">eth_addr</a> <a class="el" href="ethernetif_8c.html#a2">ethbroadcast</a> = {{0xff,0xff,0xff,0xff,0xff,0xff}}<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="etharp_8c-source.html#l00119">119</a> of file <a class="el" href="etharp_8c-source.html">etharp.c</a>.
<p>
Referenced by <a class="el" href="etharp_8c-source.html#l00521">etharp_output()</a>.    </td>
  </tr>
</table>
	</td>
  </tr>
</table>
<hr>
<div align="center">Copyright (c) 2001-2003 Swedish Institute of Computer Science</div>
</html>
