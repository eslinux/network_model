<html>
<head>
<title>embedded IPsec - IPsec library</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="doxygen.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="98%" border="0" align="center">
  <tr>
    <td>
      <h2 align="left"><img src="logo_small.gif" alt="embedded IPsec"> source 
        code documentation </h2>
<hr>

<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>debug.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Collection of common debug routines and macros. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Christian Scheurer &lt;<a href="http://www.christianscheurer.ch">http://www.christianscheurer.ch</a>&gt; <p>
Niklaus Schild &lt;<a href="mailto:n.schild@gmx.ch">n.schild@gmx.ch</a>&gt;</dd></dl>
This document is part of <em>embedded IPsec<br>
 Copyright (c) 2003 Niklaus Schild and Christian Scheurer, HTI Biel/Bienne<br>
 All rights reserved.</em><hr>

<p>
Definition in file <a class="el" href="debug_8h-source.html">debug.h</a>.
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include "<a class="el" href="util_8h-source.html">ipsec/util.h</a>"</code><br>

<p>
<a href="debug_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a0">IPSEC_ERROR</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If IPSEC_ERROR is defined, severe configuration errors and not manageable states such as running out of memory are logged. It is recommended to have this feature enabled by default. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a1">IPSEC_MESSAGE</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If less critical errors should also be logged, this feature must be enabled. The produced additional output can be a supplement to the error messages logged under IPSEC_ERROR. This feature controls informative messages. They are particularly helpful to have a "lightweight trace" of the program execution. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a2">IPSEC_AUDIT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If in-depth information with details of all passed and returned parameters is needed, IPSEC_TRACE must be defined. Since this feature produces a vast amount of information, it is recommended to disable it by default. If defined, auditable events according to the IPsec RFC's are logged. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a3">IPSEC_TEST</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This feature is only used inside the test routines and prints log messages in an uniform style. </em> <a href="#a3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a4">IPSEC_TABLES</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Printing a HEX-dump of large memory buffers can be very time consuming. Only if defined, dumping of buffers is enabled. Some information is printed in tables. To avoid this time consuming operation, this feature must be disabled. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a5">IPSEC_LOG_MESSAGE_SIZE</a>&nbsp;&nbsp;&nbsp;(128)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro defines a standard log message size, which can be used for concatenation of log messages (sprintf(), etc). </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a6">IPSEC_LOG_ERR</a>(__function_name__, __code__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a7">IPSEC_LOG_DBG</a>(__function_name__, __code__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a8">IPSEC_LOG_MSG</a>(__function_name__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a9">IPSEC_LOG_AUD</a>(__function_name__, __code__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a10">IPSEC_LOG_TST</a>(__function_name__, __code__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a11">IPSEC_LOG_TST_NOMSG</a>(__function_name__, __code__)&nbsp;&nbsp;&nbsp;printf("TST %-28s: %9s : ", __function_name__, __code__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a12">IPSEC_LOG_TRC</a>(__action__, __function_name__, __message__)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug_8h.html#a13">IPSEC_DUMP_BUFFER</a>(__prefix__, __buffer__, __offset__, __length__)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="debug.h::IPSEC_AUDIT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_AUDIT
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If in-depth information with details of all passed and returned parameters is needed, IPSEC_TRACE must be defined. Since this feature produces a vast amount of information, it is recommended to disable it by default. If defined, auditable events according to the IPsec RFC's are logged. 
<p>
turns on audit messages according RFC 2401 
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00068">68</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="debug.h::IPSEC_DUMP_BUFFER" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_DUMP_BUFFER</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__prefix__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__buffer__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__offset__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__length__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="debug_8h-source.html#l00179">179</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="debug.h::IPSEC_ERROR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_ERROR
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If IPSEC_ERROR is defined, severe configuration errors and not manageable states such as running out of memory are logged. It is recommended to have this feature enabled by default. 
<p>
turns on error logging 
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00051">51</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="debug.h::IPSEC_LOG_AUD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_AUD</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__code__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>{ \
                                printf(<span class="stringliteral">"AUD %-28s: %9d : "</span>, __function_name__, __code__); \
                                printf __message__ ;  \
                                printf(<span class="stringliteral">"\n"</span>); \
                        }
</pre></div>
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00121">121</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="debug.h::IPSEC_LOG_DBG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_DBG</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__code__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="debug_8h-source.html#l00105">105</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="debug.h::IPSEC_LOG_ERR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_ERR</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__code__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>{ \
                                printf(<span class="stringliteral">"ERR %-28s: %9d : "</span>, __function_name__, __code__); \
                                printf __message__ ;  \
                                printf(<span class="stringliteral">"\n"</span>); \
                        }
</pre></div>
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00087">87</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="debug.h::IPSEC_LOG_MESSAGE_SIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_MESSAGE_SIZE&nbsp;&nbsp;&nbsp;(128)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro defines a standard log message size, which can be used for concatenation of log messages (sprintf(), etc). 
<p>

<p>
Definition at line <a class="el" href="debug_8h-source.html#l00082">82</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="debug.h::IPSEC_LOG_MSG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_MSG</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>{ \
                                printf(<span class="stringliteral">"MSG %-28s: "</span>, __function_name__); \
                                printf __message__ ;  \
                                printf(<span class="stringliteral">"\n"</span>); \
                        }
</pre></div>
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00110">110</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="debug.h::IPSEC_LOG_TRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_TRC</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__action__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="debug_8h-source.html#l00172">172</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="debug.h::IPSEC_LOG_TST" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_TST</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__code__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__message__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>{ \
                                printf(<span class="stringliteral">"TST %-28s: %9s : "</span>, __function_name__, __code__); \
                                printf __message__ ;  \
                                printf(<span class="stringliteral">"\n"</span>); \
                        }
</pre></div>
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00132">132</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="debug.h::IPSEC_LOG_TST_NOMSG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_LOG_TST_NOMSG</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">__function_name__,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>__code__&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;printf("TST %-28s: %9s : ", __function_name__, __code__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="debug_8h-source.html#l00137">137</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="debug.h::IPSEC_MESSAGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_MESSAGE
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If less critical errors should also be logged, this feature must be enabled. The produced additional output can be a supplement to the error messages logged under IPSEC_ERROR. This feature controls informative messages. They are particularly helpful to have a "lightweight trace" of the program execution. 
<p>
turns on informative message logging 
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00060">60</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="debug.h::IPSEC_TABLES" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_TABLES
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Printing a HEX-dump of large memory buffers can be very time consuming. Only if defined, dumping of buffers is enabled. Some information is printed in tables. To avoid this time consuming operation, this feature must be disabled. 
<p>
turns on logging for any kind of tables 
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00077">77</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="debug.h::IPSEC_TEST" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IPSEC_TEST
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This feature is only used inside the test routines and prints log messages in an uniform style. 
<p>
turns on test messages for ipsec testing 
<p>
Definition at line <a class="el" href="debug_8h-source.html#l00071">71</a> of file <a class="el" href="debug_8h-source.html">debug.h</a>.    </td>
  </tr>
</table>
	</td>
  </tr>
</table>
<hr>
<div align="center">Copyright 2003 by Christian Scheurer and Niklaus Schild</div>
</html>
